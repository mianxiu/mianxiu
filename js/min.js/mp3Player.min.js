function mp3Player(){function e(e,l,i,n,r,o,a){function s(){let e=[],l=[];for(c=requestAnimationFrame(s),p=0;p<d.length;p++)e.push(d[p]-u[p]),l.push(y[p]-f[p]);for(m=0;m<e.length;m++)e[m]>0&&d[m]>=u[m]?d[m]-=1:e[m]<0&&d[m]<=u[m]&&(d[m]+=1);for(m=0;m<l.length;m++)l[m]>0&&y[m]>=f[m]?y[m]-=1:l[m]<0&&y[m]<=f[m]&&(y[m]+=1);AryInclue(d,u)&&AryInclue(y,f)&&cancelAnimationFrame(c),t(d,y,o,r,2)}r.getContext("2d");let c,d=[],u=[],y=[],f=[];0==a?(d=e.slice(),u=i.slice(),y=l.slice(),f=n.slice(),s()):1==a&&(d=i.slice(),u=e.slice(),y=n.slice(),f=l.slice(),s())}function t(e,t,l,r,o){for(Ctx=r.getContext("2d"),Ctx.clearRect(0,0,r.width,r.height),n=1;n<=o;n++)for(i=0;i<1;i++){let i=0+4*(n-1),r=1+4*(n-1),o=2+4*(n-1),a=3+4*(n-1);Ctx.beginPath(),Ctx.moveTo(e[i],t[i]),Ctx.lineTo(e[r],t[r]),Ctx.lineTo(e[o],t[o]),Ctx.lineTo(e[a],t[a]),Ctx.closePath(),(l.length=1)?Ctx.fillStyle=l:Ctx.fillStyle=l[n-1],Ctx.fill()}}let l=parseInt(getComputedStyle($("html"),null).getPropertyValue("font-size").replace("px"));var r=new(window.AudioContext||window.webkitAudioContext),o=[],a=domin+"/music/";for(let e=0;e<$("#playList>ol").children.length;e++)o.push(a+$("#playList>ol").children[e].innerText+".mp3");var s=$("#player"),c=r.createMediaElementSource(s),d=r.createAnalyser();c.connect(d),d.connect(r.destination),function(){let t=$("#playCtr"),l=(t.getContext("2d"),$("#ToShow")),i=$("#playCtrShade"),n=[0,0,22,22,22,22,31,41],r=[0,8,20,8,18,30,38,30],o=[0,48,28,6,6,28,20,11],a=[15,50,44,11,6,40,36,0];s.addEventListener("pause",function(){e(n,o,r,a,t,["black"],!0),e(n,o,r,a,i,["rgb(230,230,230)"],!0),e(n,o,r,a,l,["red"],!1)}),s.addEventListener("play",function(){e(n,o,r,a,t,["black"],!1),e(n,o,r,a,i,["rgb(230,230,230)"],!1),e(n,o,r,a,l,["red"],!0)}),$("#mp3Player"),$("#playCtr").onclick=function(e){0==s.paused?s.pause():1==s.paused&&s.play()}}();let u=$("#playList>ol"),y=$("#playList"),f=u.offsetHeight;window.getComputedStyle($("#playList>ol>li"),null).marginBottom,playListAry().length;y.addEventListener("click",function(e){"playList"!==e.target.id&&(s.src=playListAry()[getIndex(e.target)])}),function(){let e=function(e){e.preventDefault()};document.querySelector("#mp3Player").addEventListener("mouseenter",t=>{document.querySelector("html").addEventListener("wheel",e,!1),document.querySelector("#mp3Player").addEventListener("mouseleave",t=>{document.querySelector("html").removeEventListener("wheel",e,!1)})});let t,i=$("#playList ol"),n=$("#playList ol li").offsetHeight/l+parseInt(window.getComputedStyle($("#playList>ol>li"),null).marginBottom.replace(/px/,""))/l;$("#playList").addEventListener("wheel",function(e){t=Number($("#playList ol").style.marginTop.replace(/rem/,"")),e.deltaY<0&&0!==t?i.style.marginTop=t+n+"rem":e.deltaY>0&&t!==Number((($All("#playList ol li").length-1)*-n).toString())&&(i.style.marginTop=t-n+"rem")}),$("#playList").addEventListener("mouseleave",function(e){let t=musicPath+decodeURI($("#player").src.split(/\//)[4]),l=playListAry().indexOf(t)*-n;i.style.marginTop=l+"rem"}),s.src=playListAry()[0],s.onended=function(){let e=a+decodeURI($("#player").src.split(/\//)[4]),t=playListAry().indexOf(e);return t+1<playListAry().length?(u.style.marginTop=-(t+1)*n+"rem",s.src=playListAry()[t+1]):(u.style.marginTop=0,s.src=playListAry()[0])}}(),function(){let e=$("#audioProgressB"),t=e.getContext("2d");e.width=120,s.onloadedmetadata=function(){t.fillStyle="black",t.fillRect(0,0,120,6),t.fillStyle="rgb(252,171,29)",t.fillRect(0,0,12,6),t.fillStyle="rgb(112,160,219)",t.fillRect(12,0,12,6),s.addEventListener("timeupdate",function(){let e=parseInt(getComputedStyle($("#progress"),null).width.replace(/px/,"")),t=s.duration,i=t/e,n=s.currentTime;$("#audioProgressA").style="margin-left:"+n/i/l+"rem;width:"+(e-n/i)/l+"rem","NaN"===((t-n)/60).toFixed(2).replace(/\./,":")?$("#timePass").innerText="loading":$("#timePass").innerText=((t-n)/60).toFixed(2).replace(/\./,":")})}}(),function(){function e(){d.getByteFrequencyData(r),requestAnimationFrame(e),l.clearRect(0,0,200,100);var t,o=0;for(i=0;i<n;i++)t=r[i],l.fillRect(o,Math.floor(100-t/4),8,100),o+=10}let t=$("#visual"),l=t.getContext("2d");WIDTH=t.width,HEIGHT=t.height,d.minDecibels=-90,d.maxDecibles=-10,d.fftSize=32;var n=d.frequencyBinCount,r=new Uint8Array(n);l.fillStyle="black",e()}();let g=$("#lineTo");ltCtx=g.getContext("2d"),ltCtx.lineWidth=2,ltCtx.strokeStyle="red",ltCtx.beginPath(),ltCtx.moveTo(35,88),ltCtx.bezierCurveTo(35,88,39,42,9,5),ltCtx.stroke(),ltCtx.beginPath(),ltCtx.moveTo(5,10),ltCtx.bezierCurveTo(9,3,9,3,9,3),ltCtx.bezierCurveTo(9,3,21,7,25,6),ltCtx.stroke()}var musicRegex=new RegExp(/.*./),URL=window.location.href.split(/\//),domin=URL[0]+"//"+URL[2],musicPath=domin+"/music/";